(function(a){a.fn.extend({expander:function(c){var d={start:3,step:5,limit:-1,moreText:"Show more",lessText:"Show less",moreClass:"",lessClass:"",hideClass:"",append:true};var c=a.extend(d,c);var b={hide:function(e){e.addClass(c.hideClass)},show:function(e){e.removeClass(c.hideClass)}};return this.each(function(){var j=a(this);j.addClass("expander");var f="";var h=j.children();var i=h.length-c.start;var k=c.start;b.hide(h.slice(c.start));if(i>0){f='<div class="controls"><a href="#more" class="more '+c.moreClass+'">'+c.moreText+'</a><a href="#less" class="less '+c.lessClass+" "+c.hideClass+'">'+c.lessText+"</a></div>"}if(c.append){j.append(f)}else{j.prepend(f)}var e=a(".more",j);var g=a(".less",j);e.click(function(){if(c.step>0){b.show(h.slice(k,k+c.step));k+=c.step}else{if(c.limit>0){b.show(h.slice(k,c.limit));k=c.limit}else{b.show(h.slice(k,h.length));k=h.length}}if(c.limit!=-1&&k>=c.limit){b.hide(e);b.show(g)}else{if(c.start<k&&k<h.length){b.show(g)}else{if(k>=h.length){b.hide(e);b.show(g)}}}return false});g.click(function(){if(c.step>0){k-=c.step;b.hide(h.slice(k))}else{b.hide(h.slice(c.start));k=c.start}if(c.start<k&&k<h.length){b.show(e)}else{if(k==c.start){b.hide(g);b.show(e)}}return false})})}})})(jQuery);